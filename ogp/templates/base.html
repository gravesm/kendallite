<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>OGP 2</title>

        <link rel="stylesheet" type="text/css"
            href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" />

        <link rel="stylesheet" type="text/css" href="/static/icons/raphaelicons.css" />
        <link rel="stylesheet" type="text/css" href="/static/layer.css" />

        <script src="//maps.google.com/maps/api/js?v=3&sensor=false"></script>
        <script src="//openlayers.org/api/OpenLayers.js"></script>

        <script src="//code.jquery.com/jquery-1.10.1.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>

        {% block head_content %}{% end %}
    </head>
    <body>
        <div class="kl-header">
            MIT GeoWeb
        </div>
        <div class="container">
            <div class="page-header">
                <h1>{{ layer.name }}</h1>
            </div>
            <div class="row map-nav">
                <div class="col-md-8 col-md-offset-4">
                    {% block map_nav %}{% end %}
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <dl class="dl layer-info">
                        <dt>Theme Keywords</dt>
                        <dd>
                            {% for keyword in layer.keywords_theme.split() %}
                                <a href="#">{{ keyword }}</a>
                            {% end %}
                        </dd>
                        <dt>Place Keywords</dt>
                        <dd>
                            {% for keyword in layer.keywords_place.split() %}
                                <a href="#">{{ keyword }}</a>
                            {% end %}
                        </dd>
                    </dl>
                </div>
                <div class="col-md-8">
                    <div id="map">
                        <div class="map-overlay">Loading layer...</div>
                    </div>
                </div>
            </div>
            <div class="metadata-detail">
                {% block metadata %}{% end %}
            </div>
        </div>
        <script type="text/x-tmpl" id="feature-tmpl">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">Feature</h4>
                </div>
                <div class="panel-body">
                    <dl class="dl-horizontal">
                        <% _.each(attributes, function(value, name) { %>
                            <dt><%= name %></dt><dd><%= value %></dd>
                        <% }); %>
                    </dl>
                </div>
            </div>
        </script>
        <div class="modal fade" id="features-dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Selected Features</h4>
                    </div>
                    <div class="modal-body" id="features-content"></div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>